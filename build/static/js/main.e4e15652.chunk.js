(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(57)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),o=a.n(r),c=(a(41),a(34)),i=a(8),l=a(9),u=a(13),m=a(10),h=a(14),p=(a(42),a(43),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={message:"",length:a.props.length},a.createMessage=function(){var e=a.props,t=e.addMessage,n=e.pseudo,s=e.length;t({pseudo:n,message:a.state.message}),a.setState({message:"",length:s})},a.handleChange=function(e){var t=e.target.value,n=a.props.length-t.length;a.setState({message:t,length:n})},a.handleKeyUp=function(e){"Enter"===e.key&&a.createMessage()},a.handleSubmit=function(e){e.preventDefault(),a.createMessage()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},s.a.createElement("textarea",{onChange:this.handleChange,onKeyUp:this.handleKeyUp,value:this.state.message,required:!0,maxLength:this.props.length}),s.a.createElement("div",{className:"info"},this.state.length),s.a.createElement("button",{type:"submit"},"Envoyer!"))}}]),t}(n.Component)),d=function(e){var t=e.pseudo,a=e.message;return(0,e.isUser)(t)?s.a.createElement("p",{className:"user-message"},a):s.a.createElement("p",{className:"not-user-message"},s.a.createElement("strong",null,t,": "),a)},g=a(29),f=a.n(g),b=a(17),v=a.n(b),E=(a(47),v.a.initializeApp({apiKey:"AIzaSyCEqhG5X_A9qA5BOoByZdA3VfCUjzbDUrY",authDomain:"chatbox-react-fcd0c.firebaseapp.com",databaseURL:"https://chatbox-react-fcd0c.firebaseio.com"}),f.a.createClass(v.a.database())),y=a(59),O=a(60),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:{},pseudo:a.props.match.params.pseudo},a.messagesRef=Object(n.createRef)(),a.addMessage=function(e){var t=Object(c.a)({},a.state.messages);t["message ".concat(Date.now())]=e,Object.keys(t).slice(0,-10).forEach(function(e){t[e]=null}),a.setState({messages:t})},a.isUser=function(e){return e===a.state.pseudo},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){E.syncState("/",{context:this,state:"messages"})}},{key:"componentDidUpdate",value:function(){var e=this.messagesRef.current;e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.messages).map(function(t){return s.a.createElement(y.a,{timeout:200,classNames:"fade",key:t},s.a.createElement(d,{isUser:e.isUser,pseudo:e.state.messages[t].pseudo,message:e.state.messages[t].message}))});return s.a.createElement("div",{className:"box"},s.a.createElement("div",null,s.a.createElement("div",{className:"messages",ref:this.messagesRef},s.a.createElement(O.a,{className:"message"},t))),s.a.createElement(p,{length:140,pseudo:this.state.pseudo,addMessage:this.addMessage}))}}]),t}(n.Component),w=a(6),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={pseudo:"",goToChat:!1},a.handleChange=function(e){var t=e.target.value;a.setState({pseudo:t})},a.handleSubmit=function(e){e.preventDefault(),a.setState({goToChat:!0})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.goToChat?s.a.createElement(w.a,{push:!0,to:"/pseudo/".concat(this.state.pseudo)}):s.a.createElement("div",{className:"connexionBox"},s.a.createElement("form",{className:"connexion",onSubmit:this.handleSubmit},s.a.createElement("input",{onChange:this.handleChange,placeholder:"Enter your Username",type:"text",required:!0}),s.a.createElement("button",{type:"submit"},"GO")))}}]),t}(n.Component),k=function(){return s.a.createElement("h2",null,"Y'a rien ici")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(21);o.a.render(s.a.createElement(function(){return s.a.createElement(S.a,null,s.a.createElement(w.d,null,s.a.createElement(w.b,{exact:!0,path:"/",component:C}),s.a.createElement(w.b,{path:"/pseudo/:pseudo",component:j}),s.a.createElement(w.b,{component:k})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.e4e15652.chunk.js.map